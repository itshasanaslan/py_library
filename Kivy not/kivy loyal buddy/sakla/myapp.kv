<LogInScreen>:
    id: main_win
    orientation: "vertical"
    spacing: 10
    space_x: self.size[0]/3
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        size_hint_y: None
        height: 50
        canvas.before:
            Color:
                rgba: (.06, .45, .45, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text : "Access Control"
            bold : True
            size_hint_x: .9
      
    BoxLayout:
        orientation: "vertical"
        spacing: 10
        size_hint_y: None
        height: 100
        Label:
            id: info
            text: ''
            markup: True
            size_hint_y: None
            height: 20
        TextInput:
            id: username_field
            hint_text: "Username"
            multiline: False
            size_hint: 0.45,0.45
            pos_hint: {'x':0.30,'top':1}
            focus: True
            on_text_validate: pwdfield = True
        TextInput:
            id: pwd_field
            hint_text: "Password"
            size_hint: 0.45,0.45
            pos_hint: {'x':0.30,'top':1}
            multiline: False
            password: True
            on_text_validate: root.validate_user()
    BoxLayout:
        orientation:'vertical'
        spacing: 10
        size_hint_y: None
        height: 100
        LoginSmoothButton:
            text:"Log in"
            size_hint_y: None
            size_hint: 0.19,0.17
            pos_hint: {'x':0.4,'top':1}
            font_size:14
            border_radius: [18,2,18,2]
            height: 40
            bold:True
            on_release: root.validate_user()

        ForgotSmoothButton:
            text:"Forgot Password?"
            size_hint_y: None
            font_size:14
            height: 40
            size_hint: 0.3,0.17
            pos_hint: {'x':0.35,'top':0.7}
            on_release: root.go_to_pw_reset()

    Widget:

<SignUpScreen>:
    id: main_win
    orientation: "vertical"
    spacing: 10
    space_x: self.size[0]/3
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        size_hint_y: None
        height: 50
        canvas.before:
            Color:
                rgba: (.06, .45, .45, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text : "Create a Local Account"
            bold : True
            size_hint_x: .9
      
    BoxLayout:
        orientation: "vertical"
        spacing: 10
        size_hint_y: None
        height: 200
        Label:
            id: info
            text: ''
            markup: True
            size_hint_y: None
            height: 20
        TextInput:
            id: username_field
            hint_text: "Username"
            multiline: False
            size_hint: 0.6,0.9
            pos_hint: {'x':0.2,'top':1}
            focus: True
            on_text_validate: pwdfield = True
            
        TextInput:
            id: pwd_field
            hint_text: "Password"
            size_hint: 0.6,0.9
            pos_hint: {'x':0.2,'top':1}
            multiline: False
            password: True
            on_text_validate: pwd_field_check = True
        TextInput:
            id: pwd_field_check
            hint_text: "Password Again"
            size_hint: 0.6,0.9
            pos_hint: {'x':0.2,'top':1}
            multiline: False
            password: True
            on_text_validate: e_mail_field = True
        TextInput:
            id: e_mail_field
            hint_text: "E-mail@com"
            size_hint: 0.6,0.9
            pos_hint: {'x':0.2,'top':1}
            multiline: False
            on_text_validate: root.validate_user()
           
                
    SignUpButton:
        text:"Sign Up"
        size_hint_y: None
        height: 40
        bold:True
        size_hint: 0.2,0.2
        pos_hint: {'x':0.4,'top':1}
        on_release: root.validate_user()
    Widget:

<ForgotPassword>:
    id: main_win
    orientation: "vertical"
    spacing: 10
    space_x: self.size[0]/3
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        size_hint_y: None
        height: 50
        canvas.before:
            Color:
                rgba: (.06, .45, .45, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text : "Password Reset"
            bold : True
            size_hint_x: .9
        
    BoxLayout:
        orientation: "vertical"
        spacing: 10
        size_hint_y: None
        height: 100
        Label:
            id: info
            text: 'A code will be sent to your e-mail.'
            markup: True
            size_hint_y: None
            height: 20
        TextInput:
            id: code_field
            hint_text: "Code"
            multiline: False
            font_size:18
            focus: True
            size_hint: 0.25,0.1
            pos_hint: {'x':0.394,'top':1}
            on_text_validate: pwdfield = True
    SendMailButton:
        text:"Send E-mail"
        size_hint_y: None
        size_hint: 0.25,0.2
        pos_hint: {'x':0.39,'top':1}
        height: 40
        on_release: root.send_email()     
    SubmitCodeButton:
        text:"Submit Code"
        size_hint_y: None
        size_hint: 0.25,0.2
        pos_hint: {'x':0.39,'top':0.7}
        height: 40
        on_release: root.check_authentication_code()
    BoxLayout:
        orientation:'vertical'
        Button:
            text:'<-'
            bold : True
            size_hint: 0.01,0.01
            pos_hint: {'x':0.01}
            back_color: (1, 0, 1, 1)
            background_color : (1, 0, 1, 1)
            on_release: root.proceed_to_login_page()


    Widget:
        

<CreateNewPassword>:
    id: main_win
    orientation: "vertical"
    spacing: 10
    space_x: self.size[0]/3
    canvas.before:
        Color:
            rgba: (1,1,1,1)
        Rectangle:
            size: self.size
            pos: self.pos

    BoxLayout:
        size_hint_y: None
        height: 50
        canvas.before:
            Color:
                rgba: (.06, .45, .45, 1)
            Rectangle:
                size: self.size
                pos: self.pos
        Label:
            text : "Password Reset"
            bold : True
            size_hint_x: .9
      
    BoxLayout:
        orientation: "vertical"
        spacing: 10
        size_hint_y: None
        height: 100
        Label:
            id: info
            text: 'Enter a password at least 4 characters length'
            markup: True
            size_hint_y: None
            height: 20
        TextInput:
            id: first_password_field
            hint_text: "Enter the password"
            password: True
            size_hint: 0.45,0.45
            pos_hint: {'x':0.30,'top':1}
            multiline: False
            focus: True
            on_text_validate: second_password_field = True
        TextInput:
            id: second_password_field
            hint_text: "Enter the password again"
            multiline: False
            size_hint: 0.45,0.45
            pos_hint: {'x':0.30,'top':1}
            password: True
            on_text_validate: root.validate_user()

            
    SaveNewPasswordButton:
        text:"Save"
        bold:True
        size_hint_y: None
        size_hint: 0.19,0.17
        pos_hint: {'x':0.4,'top':1}
        height: 40
        
        on_release: root.check_passwords_and_save() 

    Widget:

###Button designs after this line

<LoginSmoothButton@Button>:
    background_color: (0,0,0,0)
    background_normal:''
    back_color: (1,0,1,1)
    border_radius: [18]
    canvas.before:
        Color:
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius


<ForgotSmoothButton@Button>:
    background_color: (0,0,0,0)
    background_normal:''
    #back_color: (1,0,1,1)
    back_color:(1,0,0,1)
    border_radius: [18] #if any error occurs, remove the brackets.
    color: self.back_color
    bold: True
    canvas.before:
        Color:
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0],self.pos[1],self.size[0],self.size[1],self.border_radius) 
            width: 1.2


<SendMailButton@Button>:
    background_color: (0,0,0,0)
    background_normal:''
    back_color: (1,0,1,1)
    border_radius: [18]
    canvas.before:
        Color:
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius

<SubmitCodeButton@Button>:
    background_color: (0,0,0,0)
    background_normal:''
    back_color: (1,0,1,1)
    border_radius: [18]
    canvas.before:
        Color:
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
<SaveNewPasswordButton@Button>:
    background_color: (0,0,0,0)
    background_normal:''
    back_color: (1,0,1,1)
    border_radius: [18]
    canvas.before:
        Color:
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
<SignUpButton@Button>:
    background_color: (0,0,0,0)
    background_normal:''
    back_color: (0,1,0,1)
    border_radius: [18]
    canvas.before:
        Color:
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius